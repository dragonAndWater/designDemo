-----存储过程   使用游标进行遍历
create or replace procedure cursorDemo01
as
    cursor book_cur is select *
                       from book;
begin
    for b in book_cur
        loop
            dbms_output.put_line('name = ' || b.bookname);
        end loop;
end;

--关于   带参数的游标
create or replace procedure cursorDemo02(boook_name in varchar)
as --定义游标取值
    cursor book_cur(boook_name in varchar) is select *
                                              from BOOK
                                              where BOOKNAME = boook_name;
begin
    for b in book_cur(boook_name) --此处必须将参数放在游标中
        loop
            DBMS_OUTPUT.PUT_LINE('cursorDemo02: bookName = ' || b.BOOKNAME || ',bookPrice = ' || b.BOOKPRICE);
        end loop;
end;

--带参数的存储过程，不带参数的游标
create or replace procedure cursorDemo03
as
    book_name varchar(10);
    cursor book_cur is select *
                       from BOOK
                       where BOOKNAME = book_name;
begin
    book_name := 'C++';
    for b in book_cur
        loop
            DBMS_OUTPUT.PUT_LINE('cursorDemo03: bookName = ' || b.BOOKNAME || ',bookPrice = ' || b.BOOKPRICE);
        end loop;
end ;


--带参数的游标
create or replace procedure cursorDemo04
as
    book_name varchar(10);
    cursor book_cur(book_name in varchar) is select *
                                             from book
                                             where BOOKNAME = book_name;
begin
    book_name := 'PHP';
    for b in book_cur(book_name)
        loop
            DBMS_OUTPUT.PUT_LINE('cursorDemo04: bookName = ' || b.BOOKNAME || ',bookPrice = ' || b.BOOKPRICE);
        end loop;
end;














